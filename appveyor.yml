image:
  - Visual Studio 2015

install:
  - C:\msys64\usr\bin\bash -lc "pacman --needed --noconfirm -Sy pacman-mirrors"
  - C:\msys64\usr\bin\bash -lc "pacman --noconfirm -Sy"
  - C:\msys64\usr\bin\bash -lc "pacman --noconfirm -S autoconf automake bison flex libtool"
  - C:\msys64\usr\bin\bash -lc "pacman --noconfirm -S libxml2-devel zip"
  - pip install cibuildwheel==1.1.0

before_build:
  - git submodule update --init --recursive

build_script:
  - set PATH=C:\msys64\usr\bin;%PATH%
  - set MSYSTEM=MINGW64
  - C:\msys64\usr\bin\bash -lc "cibuildwheel --output-dir wheelhouse"

artifacts:
  - path: "wheelhouse\\*.whl"
    name: Wheels

